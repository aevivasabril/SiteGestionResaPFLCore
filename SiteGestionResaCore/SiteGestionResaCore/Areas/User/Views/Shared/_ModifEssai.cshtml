@model SiteGestionResaCore.Areas.User.Data.ResasUser.ResEssaiChildViewModel
@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@
@if (Model.IsEssaiModifiable == true)
{
    <h6>INFORMATIONS ESSAI</h6>
    <h6 style="color:red" class="text-center">Vouz pouvez modifier des infos sur cet essai, cliquez sur sauvegarder pour enregistrer les changements. Attention: une fois cliqué le bouton, les changements seront pris en compte!</h6>
    <hr />
    <div class="form-row">
        @Html.LabelFor(m => m.ConfidentialiteEssai, new { @class = "col-md-4 control-label" })
        @Html.ValidationMessageFor(m => m.ConfidentialiteEssai, "", new { @class = "text-danger" })
        <div class="form-row">
                <div class="col-4">
                    <label asp-for="@Model.ConfidentialiteEssai" class="col-md-3 radio-inline">
                        <input asp-for="@Model.ConfidentialiteEssai" name="ConfidentialiteEssai" value="Ouvert" type="radio">Ouvert
                    </label>
                </div>
                <div class="col-4">
                    <label asp-for="@Model.ConfidentialiteEssai" class="col-md-4 radio-inline">
                        <input asp-for="@Model.ConfidentialiteEssai" name="ConfidentialiteEssai" value="Restreint" type="radio">Restreint
                    </label>
                </div>
                <div class="col-4">
                    <label asp-for="@Model.ConfidentialiteEssai" class="col-md-5 radio-inline">
                        <input asp-for="@Model.ConfidentialiteEssai" name="ConfidentialiteEssai" value="Confidentiel" type="radio">Confidentiel
                    </label>
                    @*@Html.RadioButtonFor(m => m.ConfidentialiteEssai, "Confidentiel") changement car avec radiobutton on reçoit pas de valeur *@
                </div>
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-4">
            @Html.LabelFor(m => m.SelectedManipulateurID, new { @class = "col-md-12 col-lg-9 control-label" })
            <select asp-for="SelectedManipulateurID" asp-items="@Model.ManipProjItem" class="form-control">
                <option value="-1">- Manipulateur essai -</option>
            </select>
            @Html.ValidationMessageFor(m => m.SelectedManipulateurID, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-row">
        <div class="form-group col-md-5">
            @Html.LabelFor(m => m.SelectedProductId, new { @class = "col-md-7 control-label" })
            <select asp-for="SelectedProductId" asp-items="@Model.ProductItem" class="form-control">
                <option value="-1">- Produit d'entrée -</option>
            </select>
            @Html.ValidationMessageFor(m => m.SelectedProductId, "", new { @class = "text-danger" })
        </div>
        <div class="form-group col-md-7">
            @Html.LabelFor(m => m.PrecisionProduitIn, new { @class = "col-md-4 control-label" })
            <input name="PrecisionProduitIn" asp-for="@Model.PrecisionProduitIn" type="text" />
            @Html.ValidationMessageFor(m => m.PrecisionProduitIn, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-5">
            @Html.LabelFor(m => m.QuantiteProduit, new { @class = "col-md-6 control-label" })
            <input name="QuantiteProduit" asp-for="@Model.QuantiteProduit" type="text" />
            @Html.ValidationMessageFor(m => m.QuantiteProduit, "", new { @class = "text-danger" })
        </div>
        <div class="form-group col-md-7">
            @Html.LabelFor(m => m.SelectedProveProduitId, new { @class = "col-md-4 col-lg-7 control-label" })
            <select asp-for="SelectedProveProduitId" asp-items="@Model.ProvenanceProduitItem" class="form-control">
                <option value="-1">- Provenance produit entrée -</option>
            </select>
            @Html.ValidationMessageFor(m => m.SelectedProveProduitId, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-5">
            @Html.LabelFor(m => m.SelectedDestProduit, new { @class = "col-md-4 col-lg-7 control-label" })
            <select asp-for="SelectedDestProduit" asp-items="@Model.DestProduitItem" class="form-control">
                <option value="-1">- Destinaison produit sortie -</option>
            </select>
            @Html.ValidationMessageFor(m => m.SelectedDestProduit, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.CommentaireEssai, new { @class = "col-md-6 control-label" })
        <input name="CommentaireEssai" asp-for="@Model.CommentaireEssai" type="text" class="col-md-10" />
        @Html.ValidationMessageFor(m => m.CommentaireEssai, "", new { @class = "text-danger" })
    </div>

    <div class="form-row">
        @Html.LabelFor(m => m.TransportSTLO, new { @class = "col-md-6 control-label" })
        @Html.ValidationMessageFor(m => m.TransportSTLO, "", new { @class = "text-danger" })
        <div class="form-row">
            <div class="col-8">
                <label asp-for="@Model.TransportSTLO" class="col-md-8 radio-inline">
                    <input asp-for="@Model.TransportSTLO" name="TransportSTLO" value="true" type="radio">STLO (800L max)
                </label>
            </div>
            <div class="col-4">
                <label asp-for="@Model.TransportSTLO" class="col-md-6 radio-inline">
                    <input asp-for="@Model.TransportSTLO" name="TransportSTLO" value="false" type="radio">Autre
                </label>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-md-2">
            @Html.ActionLink("Abandoner", "MesReservations", null, new { @class = "btn btn-primary" })
        </div>
        <div class="offset-9 col-md-1">
            <input type="submit" value="Enregistrer" class="btn btn-default navbar-inra" />
        </div>
    </div>
}
else
{
    <div class="card col-md-7 offset-3">
        <br />
        <h5 class="card-title text-center">Informations Essai N° @Model.InfosEssai.id (Informations non modifiables)</h5>
        <br />
        <table class="table table-sm table-borderless">
            <thead>
            </thead>
            <tbody>
                <tr>
                    <th scope="row">Date Création</th>
                    <td>@Model.InfosEssai.DateCreation</td>
                </tr>
                <tr>
                    <th scope="row">Email manipulateur essai</th>
                    <td>@Model.InfosEssai.MailManipulateur</td>
                </tr>
                <tr>
                    <th scope="row">Type de produit entrant</th>
                    <td>@Model.InfosEssai.TypeProduitEntrant</td>
                </tr>
                <tr>
                    <th scope="row">Demande saisie par</th>
                    <td>@Model.InfosEssai.MailUser</td>
                </tr>
                <tr>
                    <th scope="row">Descriptif essai</th>
                    <td>@Model.InfosEssai.Commentaire</td>
                </tr>
                <tr>
                    <th scope="row">Confidentialité essai</th>
                    <td>@Model.InfosEssai.Confidentialite</td>
                </tr>
                <tr>
                    <th scope="row">Transport assuré par</th>
                    @if (Model.InfosEssai.TransportStlo == true)
                    {
                        <td>STLO</td>
                    }
                    else
                    {
                        <td>Autre</td>
                    }
                </tr>
                <tr>
                    <th scope="row">Précision produit</th>
                    <td>@Model.InfosEssai.PrecisionProd</td>
                </tr>
                <tr>
                    <th scope="row">Quantité produit</th>
                    <td>@Model.InfosEssai.QuantiteProd</td>
                </tr>
                <tr>
                    <th scope="row">Provenance produit</th>
                    <td>@Model.InfosEssai.ProveProd</td>
                </tr>
                <tr>
                    <th scope="row">Destination produit</th>
                    <td>@Model.InfosEssai.PrecisionProd</td>
                </tr>
            </tbody>
        </table>
        <div class="form-group row">
            <div class="offset-5 col-md-2">
                @Html.ActionLink("Fermer", "MesReservations", null, new { @class = "btn btn-primary" })
            </div>
        </div>
    </div>

}

